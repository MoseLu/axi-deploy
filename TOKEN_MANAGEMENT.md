# ğŸ” Token ç®¡ç†è§£å†³æ–¹æ¡ˆ

## ğŸ“‹ é—®é¢˜æè¿°

Personal Access Token åªä¼šåœ¨ç”Ÿæˆæ—¶æ˜¾ç¤ºä¸€æ¬¡ï¼Œå¦‚æœä¸¢å¤±å°±éœ€è¦é‡æ–°ç”Ÿæˆã€‚å¯¹äºå¤šä¸ªé¡¹ç›®ä½¿ç”¨éƒ¨ç½²ç³»ç»Ÿï¼Œè¿™ä¼šé€ æˆç®¡ç†å›°éš¾ã€‚

## âœ… è§£å†³æ–¹æ¡ˆå¯¹æ¯”

| æ–¹æ¡ˆ | ä¼˜ç‚¹ | ç¼ºç‚¹ | æ¨èåº¦ |
|------|------|------|--------|
| **GitHub App** | æ°¸ä¹…æœ‰æ•ˆã€æƒé™ç²¾ç»†ã€å®‰å…¨å¯é  | é…ç½®å¤æ‚ | â­â­â­â­â­ |
| **ç»„ç»‡çº§ Token** | ç®€å•æ˜“ç”¨ã€ç»Ÿä¸€ç®¡ç† | æƒé™è¾ƒç²— | â­â­â­â­ |
| **Fine-grained Token** | æƒé™ç²¾ç»†ã€æ˜“äºç®¡ç† | éœ€è¦æ‰‹åŠ¨é…ç½® | â­â­â­ |
| **Token å¤‡ä»½ç­–ç•¥** | ç®€å•ç›´æ¥ | éœ€è¦å®‰å…¨å­˜å‚¨ | â­â­ |

## ğŸ¯ æ¨èæ–¹æ¡ˆ

### æ–¹æ¡ˆä¸€ï¼šGitHub Appï¼ˆæœ€ä½³ï¼‰

**é€‚ç”¨åœºæ™¯ï¼š** ä¼ä¸šçº§éƒ¨ç½²ã€å¤šé¡¹ç›®ç®¡ç†

**ä¼˜åŠ¿ï¼š**
- æ°¸ä¹…æœ‰æ•ˆï¼Œæ— éœ€é‡æ–°ç”Ÿæˆ
- æƒé™ç²¾ç»†æ§åˆ¶
- ä¸€ä¸ª App æœåŠ¡å¤šä¸ªä»“åº“
- å®‰å…¨å¯é 

**é…ç½®æ­¥éª¤ï¼š**
1. åˆ›å»º GitHub App
2. é…ç½®å¿…è¦æƒé™
3. å®‰è£…åˆ°ç›®æ ‡ç»„ç»‡
4. æ›´æ–°éƒ¨ç½²ç³»ç»Ÿä½¿ç”¨ App Token

### æ–¹æ¡ˆäºŒï¼šç»„ç»‡çº§ Personal Access Tokenï¼ˆæ¨èï¼‰

**é€‚ç”¨åœºæ™¯ï¼š** ä¸­å°å‹å›¢é˜Ÿã€å¿«é€Ÿéƒ¨ç½²

**ä¼˜åŠ¿ï¼š**
- é…ç½®ç®€å•
- ç»Ÿä¸€ç®¡ç†
- æ˜“äºç»´æŠ¤

**é…ç½®æ­¥éª¤ï¼š**

#### 1. åˆ›å»ºç»„ç»‡çº§ Token

1. è®¿é—® GitHub Settings â†’ Developer settings â†’ Personal access tokens â†’ Tokens (classic)
2. ç‚¹å‡» "Generate new token (classic)"
3. é…ç½®æƒé™ï¼š
   - âœ… `repo` - å®Œæ•´çš„ä»“åº“è®¿é—®æƒé™
   - âœ… `workflow` - å·¥ä½œæµæƒé™
4. è®¾ç½®è¿‡æœŸæ—¶é—´ï¼šå»ºè®®é€‰æ‹© "No expiration" æˆ–è¾ƒé•¿æ—¶é—´
5. å¤åˆ¶å¹¶å®‰å…¨ä¿å­˜ Token

#### 2. å®‰å…¨å­˜å‚¨ Token

**æ–¹æ³•ä¸€ï¼šä½¿ç”¨å¯†ç ç®¡ç†å™¨**
```bash
# æ¨èä½¿ç”¨ 1Passwordã€Bitwarden ç­‰å¯†ç ç®¡ç†å™¨
# å­˜å‚¨æ ¼å¼ï¼š
# åç§°ï¼šAXI Deploy Center Token
# å€¼ï¼šghp_xxxxxxxxxxxxxxxxxxxx
# å¤‡æ³¨ï¼šç”¨äº AXI å¤šè¯­è¨€éƒ¨ç½²ç³»ç»Ÿ
```

**æ–¹æ³•äºŒï¼šä½¿ç”¨ç¯å¢ƒå˜é‡æ–‡ä»¶**
```bash
# åˆ›å»º .env æ–‡ä»¶ï¼ˆä¸è¦æäº¤åˆ° Gitï¼‰
echo "DEPLOY_CENTER_TOKEN=ghp_xxxxxxxxxxxxxxxxxxxx" > .env
```

**æ–¹æ³•ä¸‰ï¼šä½¿ç”¨ GitHub Gist**
1. åˆ›å»ºç§æœ‰ Gist
2. å­˜å‚¨ Token ä¿¡æ¯
3. éœ€è¦æ—¶ä» Gist è·å–

#### 3. é…ç½®åˆ°æ‰€æœ‰é¡¹ç›®

åœ¨æ¯ä¸ªä¸šåŠ¡ä»“åº“ä¸­é…ç½®ç›¸åŒçš„ Secretï¼š

| Secret åç§° | å€¼ |
|-------------|-----|
| `DEPLOY_CENTER_PAT` | `ghp_xxxxxxxxxxxxxxxxxxxx` |

### æ–¹æ¡ˆä¸‰ï¼šFine-grained Personal Access Token

**é€‚ç”¨åœºæ™¯ï¼š** éœ€è¦ç²¾ç¡®æƒé™æ§åˆ¶

**é…ç½®æ­¥éª¤ï¼š**

1. è®¿é—® GitHub Settings â†’ Developer settings â†’ Personal access tokens â†’ Fine-grained tokens
2. ç‚¹å‡» "Generate new token"
3. é…ç½®æƒé™ï¼š
   - **Repository access**: é€‰æ‹© "Only select repositories"
   - **Permissions**:
     - `Repository permissions` â†’ `Contents` â†’ `Read`
     - `Repository permissions` â†’ `Actions` â†’ `Read`
     - `Repository permissions` â†’ `Workflows` â†’ `Read`
4. é€‰æ‹©éœ€è¦æˆæƒçš„ä»“åº“
5. è®¾ç½®è¿‡æœŸæ—¶é—´
6. å¤åˆ¶å¹¶ä¿å­˜ Token

## ğŸ”„ è¿ç§»æŒ‡å—

### ä»ä¸ªäºº Token è¿ç§»åˆ°ç»„ç»‡ Token

#### æ­¥éª¤ 1ï¼šåˆ›å»ºç»„ç»‡çº§ Token
```bash
# 1. ç”Ÿæˆæ–°çš„ç»„ç»‡çº§ Token
# 2. å®‰å…¨ä¿å­˜ Token
# 3. è®°å½• Token ä¿¡æ¯
```

#### æ­¥éª¤ 2ï¼šæ›´æ–°æ‰€æœ‰é¡¹ç›®
```bash
# åœ¨æ¯ä¸ªä¸šåŠ¡ä»“åº“ä¸­æ›´æ–° Secret
# åç§°ï¼šDEPLOY_CENTER_PAT
# å€¼ï¼šæ–°çš„ç»„ç»‡çº§ Token
```

#### æ­¥éª¤ 3ï¼šæµ‹è¯•éƒ¨ç½²
```bash
# 1. è¿è¡Œæµ‹è¯•è¿æ¥å·¥ä½œæµ
# 2. è§¦å‘ä¸€æ¬¡éƒ¨ç½²æµ‹è¯•
# 3. éªŒè¯éƒ¨ç½²æˆåŠŸ
```

#### æ­¥éª¤ 4ï¼šæ¸…ç†æ—§ Token
```bash
# 1. åˆ é™¤æ—§çš„ä¸ªäºº Token
# 2. æ›´æ–°ç›¸å…³æ–‡æ¡£
# 3. é€šçŸ¥å›¢é˜Ÿæˆå‘˜
```

## ğŸ›¡ï¸ å®‰å…¨æœ€ä½³å®è·µ

### 1. Token å­˜å‚¨å®‰å…¨

**âœ… æ¨èåšæ³•ï¼š**
- ä½¿ç”¨å¯†ç ç®¡ç†å™¨å­˜å‚¨
- è®¾ç½®å¼ºå¯†ç ä¿æŠ¤
- å®šæœŸå¤‡ä»½ Token ä¿¡æ¯
- é™åˆ¶è®¿é—®æƒé™

**âŒ é¿å…åšæ³•ï¼š**
- æ˜æ–‡å­˜å‚¨åœ¨ä»£ç ä¸­
- æäº¤åˆ° Git ä»“åº“
- åˆ†äº«ç»™ä¸ç›¸å…³äººå‘˜
- ä½¿ç”¨å¼±å¯†ç ä¿æŠ¤

### 2. æƒé™æœ€å°åŒ–

**âœ… æ¨èåšæ³•ï¼š**
- åªæˆäºˆå¿…è¦æƒé™
- å®šæœŸå®¡æŸ¥æƒé™
- ä½¿ç”¨ Fine-grained Token
- è®¾ç½®åˆç†çš„è¿‡æœŸæ—¶é—´

**âŒ é¿å…åšæ³•ï¼š**
- æˆäºˆè¿‡å¤šæƒé™
- ä½¿ç”¨æ°¸ä¸è¿‡æœŸçš„ Token
- å¿½ç•¥æƒé™å®¡æŸ¥

### 3. ç›‘æ§å’Œå®¡è®¡

**âœ… æ¨èåšæ³•ï¼š**
- å®šæœŸæ£€æŸ¥ Token ä½¿ç”¨æƒ…å†µ
- ç›‘æ§å¼‚å¸¸è®¿é—®
- è®°å½• Token å˜æ›´
- è®¾ç½®è®¿é—®é€šçŸ¥

## ğŸ“‹ åº”æ€¥å¤„ç†

### Token ä¸¢å¤±æˆ–æ³„éœ²

#### ç«‹å³å¤„ç†ï¼š
1. **ç«‹å³æ’¤é”€ Token**
   - è®¿é—® GitHub Settings â†’ Developer settings â†’ Personal access tokens
   - æ‰¾åˆ°å¯¹åº” Token å¹¶ç‚¹å‡» "Delete"

2. **ç”Ÿæˆæ–° Token**
   - æŒ‰ç…§ä¸Šè¿°æ­¥éª¤ç”Ÿæˆæ–° Token
   - æ›´æ–°æ‰€æœ‰ç›¸å…³ä»“åº“çš„ Secrets

3. **é€šçŸ¥å›¢é˜Ÿ**
   - é€šçŸ¥æ‰€æœ‰ä½¿ç”¨è¯¥ Token çš„å›¢é˜Ÿæˆå‘˜
   - æ›´æ–°ç›¸å…³æ–‡æ¡£

#### é¢„é˜²æªæ–½ï¼š
1. **å®šæœŸè½®æ¢ Token**
   - å»ºè®®æ¯ 6-12 ä¸ªæœˆè½®æ¢ä¸€æ¬¡
   - è®¾ç½®æé†’æœºåˆ¶

2. **ç›‘æ§ä½¿ç”¨æƒ…å†µ**
   - å®šæœŸæ£€æŸ¥ Token ä½¿ç”¨æ—¥å¿—
   - è®¾ç½®å¼‚å¸¸è®¿é—®å‘Šè­¦

## ğŸ“š ç›¸å…³èµ„æº

- [GitHub Personal Access Tokens](https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token)
- [GitHub Fine-grained Tokens](https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token#creating-a-fine-grained-personal-access-token)
- [GitHub Apps](https://docs.github.com/en/developers/apps)

## ğŸ¯ æ¨èæ–¹æ¡ˆæ€»ç»“

### å°å‹å›¢é˜Ÿï¼ˆ1-5äººï¼‰
**æ¨èï¼šç»„ç»‡çº§ Personal Access Token**
- é…ç½®ç®€å•
- æ˜“äºç®¡ç†
- æˆæœ¬ä½

### ä¸­å‹å›¢é˜Ÿï¼ˆ5-20äººï¼‰
**æ¨èï¼šFine-grained Personal Access Token**
- æƒé™ç²¾ç»†
- å®‰å…¨æ€§å¥½
- æ˜“äºå®¡è®¡

### å¤§å‹å›¢é˜Ÿï¼ˆ20äººä»¥ä¸Šï¼‰
**æ¨èï¼šGitHub App**
- ä¼ä¸šçº§å®‰å…¨
- ç»Ÿä¸€ç®¡ç†
- å¯æ‰©å±•æ€§å¼º

---

ğŸ” **é€‰æ‹©é€‚åˆæ‚¨å›¢é˜Ÿçš„æ–¹æ¡ˆï¼Œç¡®ä¿ Token å®‰å…¨çš„åŒæ—¶ï¼Œäº«å—ä¾¿æ·çš„éƒ¨ç½²ä½“éªŒï¼** 