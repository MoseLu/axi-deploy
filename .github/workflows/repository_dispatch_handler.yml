name: Repository Dispatch Handler

on:
  repository_dispatch:
    types: [deploy]

jobs:
  handle-deploy:
    runs-on: ubuntu-latest
    steps:
      - name: å¤„ç†éƒ¨ç½²è¯·æ±‚
        run: |
          echo "ğŸ“‹ æ”¶åˆ°éƒ¨ç½²è¯·æ±‚:"
          echo "- é¡¹ç›®: ${{ github.event.client_payload.project }}"
          echo "- éƒ¨ç½²è·¯å¾„: ${{ github.event.client_payload.deploy_path }}"
          echo "- æºä»“åº“: ${{ github.event.client_payload.source_repo }}"
          echo "- æ„å»ºID: ${{ github.event.client_payload.run_id }}"
          echo "- éƒ¨ç½²ç±»å‹: ${{ github.event.client_payload.deploy_type || 'static' }}"
          
          # è¿™é‡Œå¯ä»¥æ·»åŠ é¢å¤–çš„å¤„ç†é€»è¾‘
          echo "âœ… éƒ¨ç½²è¯·æ±‚å·²å¤„ç†"
          
          # è®°å½•éƒ¨ç½²è¯·æ±‚åˆ°æ—¥å¿—
          echo "ğŸ“ éƒ¨ç½²æ—¥å¿—:"
          echo "æ—¶é—´: $(date)"
          echo "é¡¹ç›®: ${{ github.event.client_payload.project }}"
          echo "ä»“åº“: ${{ github.event.client_payload.source_repo }}"
          echo "æ„å»ºID: ${{ github.event.client_payload.run_id }}"
          echo "éƒ¨ç½²ç±»å‹: ${{ github.event.client_payload.deploy_type || 'static' }}"
          
          echo "ğŸ’¡ æç¤º: è¯·æ‰‹åŠ¨è§¦å‘ Universal Deploy å·¥ä½œæµè¿›è¡Œå®é™…éƒ¨ç½²" 